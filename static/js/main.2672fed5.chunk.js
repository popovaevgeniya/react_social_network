(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{136:function(e,t,n){e.exports=n.p+"static/media/user_icon.13ffaa1f.png"},141:function(e,t,n){e.exports=n.p+"static/media/loader.9064981b.svg"},142:function(e,t,n){e.exports={content:"Profile_content__2wLDD"}},143:function(e,t,n){e.exports=n.p+"static/media/logo.a11bfcff.png"},170:function(e,t,n){e.exports=n(297)},24:function(e,t,n){e.exports={nav:"NavBar_nav__1FWUI",item:"NavBar_item__2RAQQ",active:"NavBar_active__1HRI5"}},253:function(e,t,n){},254:function(e,t,n){},27:function(e,t,n){e.exports={dialogs:"Dialogs_dialogs__2xRSA",messages:"Dialogs_messages__1w_Up",active:"Dialogs_active__2sQhs",dialogItem:"Dialogs_dialogItem__1AD6j",dialog:"Dialogs_dialog__lk_cw",message:"Dialogs_message__1xIDh"}},296:function(e,t,n){},297:function(e,t,n){"use strict";n.r(t);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var a,r,o=n(9),i=n(11),c=n.n(i),u=n(18),s=n(47),l=n(4),m=n(132),d=n.n(m).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"3f26be3e-65ab-4630-9892-39fd2574b842"}}),f={requestUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=a?"&friend=".concat(a):"";return d.get("users?page=".concat(e,"&count=").concat(t,"&term=").concat(n)+r).then(function(e){return e.data})},follow:function(e){return d.post("follow/".concat(e),{}).then(function(e){return e.data})},unfollow:function(e){return d.delete("follow/".concat(e)).then(function(e){return e.data})},getProfile:function(e){return console.warn("Obsolete method. Please use profileAPI object."),p.getProfile(e)}},p={getProfile:function(e){return d.get("profile/".concat(e)).then(function(e){return e.data})},getStatus:function(e){return d.get("profile/status/".concat(e)).then(function(e){return e.data})},updateStatus:function(e){return d.put("profile/status",{status:e}).then(function(e){return e.data})}};!function(e){e[e.Success=0]="Success",e[e.Error=1]="Error"}(a||(a={})),function(e){e[e.captchaIsRequired=10]="captchaIsRequired"}(r||(r={}));var g=function(){return d.get("auth/me").then(function(e){return e.data})},E=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return d.post("auth/login",{email:e,password:t,rememberMe:n}).then(function(e){return e.data})},h=function(){return d.delete("auth/login").then(function(e){return e.data})},b={posts:[{id:1,message:"Hi! How are you?",likesCount:2},{id:2,message:"Yoyoyoyo",likesCount:12},{id:3,message:"It is my first post.",likesCount:42}],profile:null,status:""},v=function(e){return{type:"SET_STATUS",status:e}},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-POST":var n={id:5,message:t.newPostText,likesCount:0};return Object(l.a)(Object(l.a)({},e),{},{posts:[].concat(Object(s.a)(e.posts),[n])});case"SET_USER_PROFILE":return Object(l.a)(Object(l.a)({},e),{},{profile:t.profile});case"SET_STATUS":return Object(l.a)(Object(l.a)({},e),{},{status:t.status});default:return e}},_={dialogs:[{id:1,name:"Dima"},{id:2,name:"Slava"},{id:3,name:"Valera"},{id:4,name:"Kolia"},{id:5,name:"Sveta"}],messages:[{id:1,text:"Hi"},{id:2,text:"Hello"},{id:3,text:"How are you?"},{id:4,text:"Yo"},{id:5,text:"Hey!"}]},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEND-MESSAGE":var n=t.newMessageBody;return Object(l.a)(Object(l.a)({},e),{},{messages:[].concat(Object(s.a)(e.messages),[{id:6,text:n}])});default:return e}},j={users:[],pageSize:5,totalUsersCount:0,currentPage:1,isFetching:!0,followingInProgress:[],filter:{term:"",friend:null}},w=function(e){return{type:"FOLLOW",userId:e}},y=function(e){return{type:"UNFOLLOW",userId:e}},P=function(e){return{type:"SET_USERS",users:e}},N=function(e){return{type:"SET_CURRENT_PAGE",currentPage:e}},I=function(e){return{type:"SET_USERS_TOTAL_COUNT",count:e}},C=function(e){return{type:"TOGGLE_IS_FETCHING",isFetching:e}},x=function(e,t){return{type:"TOGGLE_IS_FOLLOWING_PROGRESS",isFetching:e,userId:t}},T=function(e){return{type:"SET_FILTER",payload:e}},k=function(e,t,n){return function(){var a=Object(u.a)(c.a.mark(function a(r){var o;return c.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r(C(!0)),r(N(e)),a.next=4,f.requestUsers(e,t,n.term,n.friend);case 4:o=a.sent,r(C(!1)),r(P(o.items)),r(I(o.totalCount)),r(T(n));case 9:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}()},A=function(){var e=Object(u.a)(c.a.mark(function e(t,n,a,r){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t(x(!0,n)),e.next=3,a(n);case 3:0===e.sent.resultCode&&t(r(n)),t(x(!1,n));case 6:case"end":return e.stop()}},e)}));return function(t,n,a,r){return e.apply(this,arguments)}}(),U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return Object(l.a)(Object(l.a)({},e),{},{users:e.users.map(function(e){return e.id===t.userId?Object(l.a)(Object(l.a)({},e),{},{followed:!0}):e})});case"UNFOLLOW":return Object(l.a)(Object(l.a)({},e),{},{users:e.users.map(function(e){return e.id===t.userId?Object(l.a)(Object(l.a)({},e),{},{followed:!1}):e})});case"SET_USERS":return Object(l.a)(Object(l.a)({},e),{},{users:t.users});case"SET_CURRENT_PAGE":return Object(l.a)(Object(l.a)({},e),{},{currentPage:t.currentPage});case"SET_USERS_TOTAL_COUNT":return Object(l.a)(Object(l.a)({},e),{},{totalUsersCount:t.count});case"TOGGLE_IS_FETCHING":return Object(l.a)(Object(l.a)({},e),{},{isFetching:t.isFetching});case"TOGGLE_IS_FOLLOWING_PROGRESS":return Object(l.a)(Object(l.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(s.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter(function(e){return e!==t.userId})});case"SET_FILTER":return Object(l.a)(Object(l.a)({},e),{},{filter:t.payload});default:return e}},L=n(42),R={userId:null,email:null,login:null,isAuth:!1},F=function(e,t,n,a){return{type:"SN/auth/SET_USER_DATA",payload:{userId:e,email:t,login:n,isAuth:a}}},M=function(){return function(){var e=Object(u.a)(c.a.mark(function e(t){var n,r,o,i,u;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g();case 2:(n=e.sent).resultCode===a.Success&&(r=n.data,o=r.id,i=r.email,u=r.login,t(F(o,i,u,!0)));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SN/auth/SET_USER_DATA":return Object(l.a)(Object(l.a)({},e),t.payload);default:return e}},G=n(133),z=n(131),B={initialized:!1},W=function(){return{type:"SOCIAL_NETWORK/APP/INITIALIZED_SUCCESS"}},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B;switch((arguments.length>1?arguments[1]:void 0).type){case"SOCIAL_NETWORK/APP/INITIALIZED_SUCCESS":return Object(l.a)(Object(l.a)({},e),{},{initialized:!0});default:return e}},q=Object(o.c)({profilePage:O,messagesPage:S,usersPage:U,auth:D,form:z.a,app:H}),K="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||o.d,V=Object(o.e)(q,K(Object(o.a)(G.a)));window.__store__=V;var Q=V,J=n(0),X=n.n(J),Y=n(70),Z=n.n(Y),$=(n(253),n(33)),ee=n(34),te=n(36),ne=n(35),ae=(n(254),n(24)),re=n.n(ae),oe=n(14),ie=function(){return X.a.createElement("nav",{className:re.a.nav},X.a.createElement("ul",null,X.a.createElement("div",{className:re.a.item},X.a.createElement(oe.b,{to:"/profile",activeClassName:re.a.active},"Profile")),X.a.createElement("div",{className:"".concat(re.a.item)},X.a.createElement(oe.b,{to:"/dialogs",activeClassName:re.a.active},"Massages")),X.a.createElement("div",{className:re.a.item},X.a.createElement(oe.b,{to:"/users",activeClassName:re.a.active},"Users")),X.a.createElement("div",{className:re.a.item},"News"),X.a.createElement("div",{className:re.a.item},"Music"),X.a.createElement("div",{className:re.a.item},"Settings")))},ce=n(10),ue=n(27),se=n.n(ue),le=function(e){if(!e)return"Field is required"},me=function(e){return function(t){if(t&&t.length>30)return"Max length is ".concat(e," symbols")}},de=n(129),fe=n(130),pe=n(59),ge=n(57),Ee=n.n(ge),he=function(e){var t=e.meta,n=t.touched,a=t.error,r=e.children,o=n&&a;return X.a.createElement("div",{className:"".concat(Ee.a.formControl," ").concat(o?Ee.a.error:"")},X.a.createElement("div",null,r),o&&X.a.createElement("span",null,a))},be=function(e){var t=e.input,n=(e.meta,Object(pe.a)(e,["input","meta"]));return X.a.createElement(he,e,X.a.createElement("textarea",Object.assign({},t,n)))},ve=function(e){var t=e.input,n=(e.meta,Object(pe.a)(e,["input","meta"]));return X.a.createElement(he,e,X.a.createElement("input",Object.assign({},t,n)))},Oe=me(50),_e=Object(fe.a)({form:"dialogAddMessageForm"})(function(e){return X.a.createElement("form",{onSubmit:e.handleSubmit},X.a.createElement("div",null,X.a.createElement(de.a,{component:be,name:"newMessageBody",placeholder:"Enter your message",validate:[le,Oe]})),X.a.createElement("div",null,X.a.createElement("button",null,"Send")))}),Se=function(e){var t="/dialogs/"+e.id;return X.a.createElement("div",{className:se.a.dialog+""+se.a.active},X.a.createElement(oe.b,{to:t},e.name))},je=function(e){return X.a.createElement("div",{className:se.a.message},e.text)},we=function(e){var t=e.messagesPage,n=t.dialogs.map(function(e){return X.a.createElement(Se,{name:e.name,id:e.id,key:e.id})}),a=t.messages.map(function(e){return X.a.createElement(je,{text:e.text,id:e.id,key:e.id})});return X.a.createElement("div",{className:se.a.dialogs},X.a.createElement("div",{className:se.a.dialogItem},n),X.a.createElement("div",{className:se.a.messages},X.a.createElement("div",null,a),X.a.createElement(_e,{onSubmit:function(t){e.sendMessage(t.newMessageBody)}})))},ye=n(6),Pe=function(e){return{isAuth:e.auth.isAuth}};var Ne=Object(o.d)(Object(ye.b)(function(e){return{messagesPage:e.messagesPage,isAuth:e.auth.isAuth}},{sendMessage:function(e){return{type:"SEND-MESSAGE",newMessageBody:e}}}),function(e){return Object(ye.b)(Pe)(function(t){var n=t.isAuth,a=Object(pe.a)(t,["isAuth"]);return n?X.a.createElement(e,a):X.a.createElement(ce.a,{to:"/login"})})})(we),Ie=n(40),Ce=n.n(Ie),xe=n(136),Te=n.n(xe),ke=n(73),Ae=n(144),Ue=n(79),Le=n.n(Ue),Re=n(137),Fe=n.n(Re),Me=function(e){for(var t=e.totalItemsCount,n=e.pageSize,a=e.currentPage,r=void 0===a?1:a,o=e.onPageChanged,i=void 0===o?function(){}:o,c=e.portionSize,u=void 0===c?10:c,s=Math.ceil(t/n),l=[],m=1;m<=s;m++)l.push(m);var d=Math.ceil(s/u),f=Object(J.useState)(1),p=Object(Ae.a)(f,2),g=p[0],E=p[1],h=(g-1)*u+1,b=g*u;return X.a.createElement("div",{className:Le.a.paginator},g>1&&X.a.createElement("button",{onClick:function(){return E(g-1)}},"PREV"),l.filter(function(e){return e>=h&&e<=b}).map(function(e){return X.a.createElement("span",{className:Fe()(Le.a.pageNumber,Object(ke.a)({},Le.a.selectedPageNumber,r===e)),key:e,onClick:function(){return i(e)}},e)}),d>g&&X.a.createElement("button",{onClick:function(){return E(g+1)}},"NEXT"))},De=n(60),Ge=n(140),ze=Object(Ge.a)(function(e){return e.usersPage.users},function(e){return e.filter(function(e){return!0})}),Be=function(e){return e.usersPage.pageSize},We=function(e){return e.usersPage.totalUsersCount},He=function(e){return e.usersPage.currentPage},qe=function(e){return e.usersPage.isFetching},Ke=function(e){return e.usersPage.followingInProgress},Ve=function(e){return e.usersPage.filter},Qe=X.a.memo(function(e){var t=e.onFilterChange,n=Object(ye.d)(Ve);return X.a.createElement(De.c,{enableReinitialize:!0,initialValues:{term:n.term,friend:String(n.friend)},validate:function(e){return{}},onSubmit:function(e,n){var a=n.setSubmitting,r={term:e.term,friend:"null"===e.friend?null:"true"===e.friend};t(r),setTimeout(function(){a(!1)},400)}},function(e){var t=e.isSubmitting;return X.a.createElement(De.b,null,X.a.createElement(De.a,{type:"text",name:"term"}),X.a.createElement(De.a,{name:"friend",as:"select"},X.a.createElement("option",{value:"null"},"All"),X.a.createElement("option",{value:"true"},"Only followed"),X.a.createElement("option",{value:"false"},"Only unfollowed")),X.a.createElement("button",{type:"submit",disabled:t},"Find"))})}),Je=function(){var e=Object(ye.d)(ze),t=Object(ye.d)(We),n=Object(ye.d)(He),a=Object(ye.d)(Be),r=Object(ye.d)(Ve),o=Object(ye.d)(Ke),i=Object(ye.c)(),s=Object(ce.f)();Object(J.useEffect)(function(){var e=new URLSearchParams(s.location.search),t=n,o=r;switch(e.has("page")&&(t=Number(e.get("page"))),e.has("term")&&(o=Object(l.a)(Object(l.a)({},o),{},{term:e.get("term")})),e.get("friend")){case"null":o=Object(l.a)(Object(l.a)({},o),{},{friend:null});break;case"true":o=Object(l.a)(Object(l.a)({},o),{},{friend:!0});break;case"false":o=Object(l.a)(Object(l.a)({},o),{},{friend:!1})}i(k(t,a,o))},[]),Object(J.useEffect)(function(){var e={};r.term&&(e.term=r.term),null!==r.friend&&(e.friend=String(r.friend)),1!==n&&(e.page=String(n)),s.push({pathname:"/users",search:new URLSearchParams(e).toString()})},[r,n]);return X.a.createElement("div",null,X.a.createElement(Qe,{onFilterChange:function(e){i(k(1,a,e))}}),X.a.createElement(Me,{currentPage:n,onPageChanged:function(e){i(k(e,a,r))},pageSize:a,totalItemsCount:t}),e.map(function(e){return X.a.createElement("div",{key:e.id,className:Ce.a.item},X.a.createElement("span",{className:Ce.a.area},X.a.createElement("div",null,X.a.createElement(oe.b,{to:"/profile/"+e.id},X.a.createElement("img",{src:null!=e.photos.small?e.photos.small:Te.a,alt:"user_photo",className:Ce.a.photo}))),X.a.createElement("div",null," ",e.followed?X.a.createElement("button",{disabled:o.some(function(t){return t===e.id}),onClick:function(){var t;i((t=e.id,function(){var e=Object(u.a)(c.a.mark(function e(n){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A(n,t,f.unfollow.bind(f),y);case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()))}},"Unfollow"):X.a.createElement("button",{disabled:o.some(function(t){return t===e.id}),onClick:function(){var t;i((t=e.id,function(){var e=Object(u.a)(c.a.mark(function e(n){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A(n,t,f.follow.bind(f),w);case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()))}},"Follow")," ")),X.a.createElement("span",{className:Ce.a.area+""+Ce.a.field},X.a.createElement("span",{className:Ce.a.area},X.a.createElement("div",null,e.name),X.a.createElement("div",null,e.status))))}))},Xe=n(141),Ye=n.n(Xe),Ze=function(){return X.a.createElement("img",{src:Ye.a,alt:"preloader"})},$e=function(e){var t=e.pageTitle,n=Object(ye.d)(qe);return X.a.createElement(X.a.Fragment,null,X.a.createElement("h2",null,t),n?X.a.createElement(Ze,null):null,X.a.createElement(Je,null))},et=n(142),tt=n.n(et),nt=n(77),at=n.n(nt),rt=function(e){Object(te.a)(n,e);var t=Object(ne.a)(n);function n(){var e;Object($.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={editMode:!1,status:e.props.status},e.activateEditMode=function(){e.setState({editMode:!0})},e.deactivateEditMode=function(){e.setState({editMode:!1}),e.props.updateStatus(e.state.status)},e.onStatusChange=function(t){e.setState({status:t.currentTarget.value})},e}return Object(ee.a)(n,[{key:"componentDidUpdate",value:function(e,t){e.status!==this.props.status&&this.setState({status:this.props.status})}},{key:"render",value:function(){return X.a.createElement("div",null,!this.state.editMode&&X.a.createElement("div",null,X.a.createElement("span",{onDoubleClick:this.activateEditMode},this.props.status||"-----")),this.state.editMode&&X.a.createElement("div",null,X.a.createElement("input",{onChange:this.onStatusChange,autoFocus:!0,onBlur:this.deactivateEditMode,value:this.state.status})))}}]),n}(X.a.Component),ot=function(e){return e.profile?X.a.createElement("div",null,X.a.createElement("img",{src:e.profile.photos.large?e.profile.photos.large:at.a,alt:"avatar"}),X.a.createElement("span",null,e.profile.aboutMe),X.a.createElement(rt,{status:e.status,updateStatus:e.updateStatus})):X.a.createElement(Ze,null)},it=n(99),ct=n.n(it),ut=function(e){return X.a.createElement("div",{className:ct.a.item},X.a.createElement("img",{className:ct.a.item,src:at.a,alt:"avatar"}),e.message,X.a.createElement("div",null,X.a.createElement("span",null,"Like ",e.likeCount)))},st=me(10),lt=Object(fe.a)({form:"profileAddNewPostForm"})(function(e){return X.a.createElement("form",{onSubmit:e.handleSubmit},X.a.createElement("div",null,X.a.createElement(de.a,{component:be,name:"newPostText",placeholder:"Write something",validate:[le,st]})),X.a.createElement("div",null,X.a.createElement("button",null,"Add post")))}),mt=function(e){var t=e.posts.map(function(e){return X.a.createElement(ut,{message:e.message,likeCount:e.likesCount,key:e.id})});return X.a.createElement("div",{className:"posts"},"My posts",X.a.createElement(lt,{onSubmit:function(t){e.addPost(t.newPostText)}}),t)},dt=Object(ye.b)(function(e){return{posts:e.profilePage.posts}},{addPost:function(e){return{type:"ADD-POST",newPostText:e}}})(mt),ft=function(e){return X.a.createElement("div",{className:tt.a.content},X.a.createElement(ot,{profile:e.profile,status:e.status,updateStatus:e.updateStatus}),X.a.createElement(dt,null))},pt=function(e){Object(te.a)(n,e);var t=Object(ne.a)(n);function n(){return Object($.a)(this,n),t.apply(this,arguments)}return Object(ee.a)(n,[{key:"componentDidMount",value:function(){var e=+this.props.match.params.userId;e||(e=this.props.authorizedUserId)||this.props.history.push("/login"),e?(this.props.getUserProfile(e),this.props.getStatus(e)):console.error("ID should be exists in URI params or in state authorizedUserId")}},{key:"render",value:function(){return X.a.createElement(ft,Object.assign({},this.props,{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus}))}}]),n}(X.a.Component),gt=Object(o.d)(Object(ye.b)(function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth}},{getUserProfile:function(e){return function(){var t=Object(u.a)(c.a.mark(function t(n){var a;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.getProfile(e);case 2:a=t.sent,n({type:"SET_USER_PROFILE",profile:a});case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},getStatus:function(e){return function(){var t=Object(u.a)(c.a.mark(function t(n){var a;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.getStatus(e);case 2:a=t.sent,n(v(a));case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},updateStatus:function(e){return function(){var t=Object(u.a)(c.a.mark(function t(n){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.updateStatus(e);case 2:0===t.sent.resultCode&&n(v(e));case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}}),ce.g)(pt),Et=(n(296),n(143)),ht=n.n(Et),bt=function(e){return X.a.createElement("header",{className:"header"},X.a.createElement("img",{src:ht.a,alt:"logo"}),X.a.createElement("div",{className:"loginBlock"},e.isAuth?X.a.createElement("div",null,e.login," ",X.a.createElement("button",{onClick:e.logout},"Logout")," "):X.a.createElement(oe.b,{to:"/login"},"Login")))},vt=function(e){Object(te.a)(n,e);var t=Object(ne.a)(n);function n(){return Object($.a)(this,n),t.apply(this,arguments)}return Object(ee.a)(n,[{key:"render",value:function(){return X.a.createElement(bt,this.props)}}]),n}(X.a.Component),Ot=Object(ye.b)(function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}},{logout:function(){return function(){var e=Object(u.a)(c.a.mark(function e(t){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h();case 2:e.sent.resultCode===a.Success&&t(F(null,null,null,!1));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}})(vt),_t=Object(fe.a)({form:"login"})(function(e){var t=e.handleSubmit,n=e.error;return X.a.createElement("form",{onSubmit:t},X.a.createElement("div",null,X.a.createElement(de.a,{placeholder:"E-mail",component:ve,type:"email",name:"email",validate:[le]})),X.a.createElement("div",null,X.a.createElement(de.a,{placeholder:"Password",component:ve,type:"password",name:"password",validate:[le]})),X.a.createElement("div",null,X.a.createElement(de.a,{type:"checkbox",component:ve,name:"rememberMe"})," Remember me"),n&&X.a.createElement("div",{className:Ee.a.formSummeryError},n),X.a.createElement("div",null,X.a.createElement("button",null,"Login")))}),St=function(){var e=Object(ye.d)(function(e){return e.auth.isAuth}),t=Object(ye.c)();return e?X.a.createElement(ce.a,{to:"/profile"}):X.a.createElement("div",null,X.a.createElement("h1",null,"LOGIN"),X.a.createElement(_t,{onSubmit:function(e){var n,r,o;t((n=e.email,r=e.password,o=e.rememberMe,function(){var e=Object(u.a)(c.a.mark(function e(t){var i,u;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(n,r,o);case 2:(i=e.sent).resultCode===a.Success?t(M()):(u=i.messages.length>0?i.messages[0]:"Something is wrong!",t(Object(L.a)("login",{_error:u})));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()))}}))},jt=function(e){Object(te.a)(n,e);var t=Object(ne.a)(n);function n(){return Object($.a)(this,n),t.apply(this,arguments)}return Object(ee.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?X.a.createElement(oe.a,null,X.a.createElement("div",{className:"app-wrapper"},X.a.createElement(Ot,null),X.a.createElement(ie,null),X.a.createElement("div",{className:"app-wrapper-content"},X.a.createElement(ce.b,{path:"/profile/:userId?",render:function(){return X.a.createElement(gt,null)}}),X.a.createElement(ce.b,{path:"/dialogs",render:function(){return X.a.createElement(Ne,null)}}),X.a.createElement(ce.b,{path:"/users",render:function(){return X.a.createElement($e,{pageTitle:"Users page"})}}),X.a.createElement(ce.b,{path:"/login",render:function(){return X.a.createElement(St,null)}})))):X.a.createElement(Ze,null)}}]),n}(X.a.Component),wt=Object(ye.b)(function(e){return{initialized:e.app.initialized}},{initializeApp:function(){return function(e){var t=e(M());Promise.all([t]).then(function(){e(W())})}}})(jt);Z.a.render(X.a.createElement(ye.a,{store:Q},X.a.createElement(wt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()}).catch(function(e){console.error(e.message)})},40:function(e,t,n){e.exports={photo:"Users_photo__2hOPg",area:"Users_area__3s_qe",field:"Users_field__13ip4",selectedPage:"Users_selectedPage__J63sh",pageButton:"Users_pageButton__1ZjBo"}},57:function(e,t,n){e.exports={formControl:"FormControl_formControl__2tDgs",error:"FormControl_error__2w4xO",formSummeryError:"FormControl_formSummeryError__3KpqV"}},77:function(e,t,n){e.exports=n.p+"static/media/avatar.e2dc1ebf.png"},79:function(e,t,n){e.exports={paginator:"Paginator_paginator__3w-2P",pageNumber:"Paginator_pageNumber__1RptP",selectedPageNumber:"Paginator_selectedPageNumber__2NFdL"}},99:function(e,t,n){e.exports={item:"Post_item__2EmvQ"}}},[[170,1,2]]]);
//# sourceMappingURL=main.2672fed5.chunk.js.map