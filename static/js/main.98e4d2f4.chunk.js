(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{136:function(e,t,n){e.exports={formControl:"FormControl_formControl__2tDgs",error:"FormControl_error__2w4xO",formSummeryError:"FormControl_formSummeryError__3KpqV"}},156:function(e,t,n){"use strict";var r=n(269),a=n.n(r),c=n(0),u=n.n(c);t.a=function(){return u.a.createElement("img",{src:a.a,alt:"preloader"})}},157:function(e,t,n){"use strict";n.d(t,"b",function(){return l}),n.d(t,"a",function(){return s});var r=n(205),a=n(0),c=n.n(a),u=n(136),o=n.n(u),i=function(e){var t=e.meta,n=t.touched,r=t.error,a=e.children,u=n&&r;return c.a.createElement("div",{className:"".concat(o.a.formControl," ").concat(u?o.a.error:"")},c.a.createElement("div",null,a),u&&c.a.createElement("span",null,r))},l=function(e){var t=e.input,n=(e.meta,Object(r.a)(e,["input","meta"]));return c.a.createElement(i,e,c.a.createElement("textarea",Object.assign({},t,n)))},s=function(e){var t=e.input,n=(e.meta,Object(r.a)(e,["input","meta"]));return c.a.createElement(i,e,c.a.createElement("input",Object.assign({},t,n)))}},199:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return a});var r=function(e){if(!e)return"Field is required"},a=function(e){return function(t){if(t&&t.length>30)return"Max length is ".concat(e," symbols")}}},211:function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"d",function(){return m}),n.d(t,"c",function(){return d}),n.d(t,"e",function(){return p});var r=n(36),a=n.n(r),c=n(53),u=n(108),o=n(15),i=n(40),l={posts:[{id:1,message:"Hi! How are you?",likesCount:2},{id:2,message:"Yoyoyoyo",likesCount:12},{id:3,message:"It is my first post.",likesCount:42}],profile:null,status:""},s=function(e){return{type:"ADD-POST",newPostText:e}},f=function(e){return{type:"SET_STATUS",status:e}},m=function(e){return function(){var t=Object(c.a)(a.a.mark(function t(n){var r;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.d.getProfile(e);case 2:r=t.sent,n({type:"SET_USER_PROFILE",profile:r});case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},d=function(e){return function(){var t=Object(c.a)(a.a.mark(function t(n){var r;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.c.getStatus(e);case 2:r=t.sent,n(f(r));case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},p=function(e){return function(){var t=Object(c.a)(a.a.mark(function t(n){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.c.updateStatus(e);case 2:0===t.sent.resultCode&&n(f(e));case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-POST":var n={id:5,message:t.newPostText,likesCount:0};return Object(o.a)(Object(o.a)({},e),{},{posts:[].concat(Object(u.a)(e.posts),[n])});case"SET_USER_PROFILE":return Object(o.a)(Object(o.a)({},e),{},{profile:t.profile});case"SET_STATUS":return Object(o.a)(Object(o.a)({},e),{},{status:t.status});default:return e}}},212:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(0),a=n.n(r),c=n(25),u=n(275),o=n(432),i=function(e){var t=e.small,n=e.size,r=Object(c.d)(function(e){var n,r;return t?null===(n=e.profilePage.profile)||void 0===n?void 0:n.photos.small:null===(r=e.profilePage.profile)||void 0===r?void 0:r.photos.large});if(!r){var i={shape:"square",icon:a.a.createElement(o.a,null)};return t?a.a.createElement(u.a,i):a.a.createElement(u.a,Object.assign({},i,{size:n||170}))}return a.a.createElement("img",{src:r,alt:"avatar",width:n,style:{borderRadius:"6px"}})}},223:function(e,t,n){"use strict";n.d(t,"b",function(){return u});var r=n(108),a=n(15),c={dialogs:[{id:1,name:"Dima"},{id:2,name:"Slava"},{id:3,name:"Valera"},{id:4,name:"Kolia"},{id:5,name:"Sveta"}],messages:[{id:1,text:"Hi"},{id:2,text:"Hello"},{id:3,text:"How are you?"},{id:4,text:"Yo"},{id:5,text:"Hey!"}]},u=function(e){return{type:"SEND-MESSAGE",newMessageBody:e}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEND-MESSAGE":var n=t.newMessageBody;return Object(a.a)(Object(a.a)({},e),{},{messages:[].concat(Object(r.a)(e.messages),[{id:6,text:n}])});default:return e}}},269:function(e,t,n){e.exports=n.p+"static/media/loader.9064981b.svg"},270:function(e,t,n){e.exports=n.p+"static/media/logo.a11bfcff.png"},302:function(e,t,n){e.exports=n(430)},384:function(e,t,n){},385:function(e,t,n){},40:function(e,t,n){"use strict";n.d(t,"d",function(){return o}),n.d(t,"c",function(){return i}),n.d(t,"a",function(){return r}),n.d(t,"b",function(){return l});var r,a,c=n(256),u=n.n(c).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"3f26be3e-65ab-4630-9892-39fd2574b842"}}),o={requestUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=r?"&friend=".concat(r):"";return u.get("users?page=".concat(e,"&count=").concat(t,"&term=").concat(n)+a).then(function(e){return e.data})},follow:function(e){return u.post("follow/".concat(e),{}).then(function(e){return e.data})},unfollow:function(e){return u.delete("follow/".concat(e)).then(function(e){return e.data})},getProfile:function(e){return console.warn("Obsolete method. Please use profileAPI object."),i.getProfile(e)}},i={getProfile:function(e){return u.get("profile/".concat(e)).then(function(e){return e.data})},getStatus:function(e){return u.get("profile/status/".concat(e)).then(function(e){return e.data})},updateStatus:function(e){return u.put("profile/status",{status:e}).then(function(e){return e.data})}};!function(e){e[e.Success=0]="Success",e[e.Error=1]="Error"}(r||(r={})),function(e){e[e.captchaIsRequired=10]="captchaIsRequired"}(a||(a={}));var l={me:function(){return u.get("auth/me").then(function(e){return e.data})},login:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return u.post("auth/login",{email:e,password:t,rememberMe:n}).then(function(e){return e.data})},logout:function(){return u.delete("auth/login").then(function(e){return e.data})}}},428:function(e,t,n){},430:function(e,t,n){"use strict";n.r(t);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var r=n(37),a=n(211),c=n(223),u=n(36),o=n.n(u),i=n(53),l=n(108),s=n(15),f=n(40),m={users:[],pageSize:12,totalUsersCount:0,currentPage:1,isFetching:!0,followingInProgress:[],filter:{term:"",friend:null}},d=function(e){return{type:"FOLLOW",userId:e}},p=function(e){return{type:"UNFOLLOW",userId:e}},E=function(e){return{type:"SET_USERS",users:e}},g=function(e){return{type:"SET_CURRENT_PAGE",currentPage:e}},b=function(e){return{type:"SET_USERS_TOTAL_COUNT",count:e}},h=function(e){return{type:"TOGGLE_IS_FETCHING",isFetching:e}},O=function(e,t){return{type:"TOGGLE_IS_FOLLOWING_PROGRESS",isFetching:e,userId:t}},v=function(e){return{type:"SET_FILTER",payload:e}},S=function(e,t,n){return function(){var r=Object(i.a)(o.a.mark(function r(a){var c;return o.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return a(h(!0)),a(g(e)),r.next=4,f.d.requestUsers(e,t,n.term,n.friend);case 4:c=r.sent,a(h(!1)),a(E(c.items)),a(b(c.totalCount)),a(v(n));case 9:case"end":return r.stop()}},r)}));return function(e){return r.apply(this,arguments)}}()},j=function(){var e=Object(i.a)(o.a.mark(function e(t,n,r,a){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t(O(!0,n)),e.next=3,r(n);case 3:0===e.sent.resultCode&&t(a(n)),t(O(!1,n));case 6:case"end":return e.stop()}},e)}));return function(t,n,r,a){return e.apply(this,arguments)}}(),w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return Object(s.a)(Object(s.a)({},e),{},{users:e.users.map(function(e){return e.id===t.userId?Object(s.a)(Object(s.a)({},e),{},{followed:!0}):e})});case"UNFOLLOW":return Object(s.a)(Object(s.a)({},e),{},{users:e.users.map(function(e){return e.id===t.userId?Object(s.a)(Object(s.a)({},e),{},{followed:!1}):e})});case"SET_USERS":return Object(s.a)(Object(s.a)({},e),{},{users:t.users});case"SET_CURRENT_PAGE":return Object(s.a)(Object(s.a)({},e),{},{currentPage:t.currentPage});case"SET_USERS_TOTAL_COUNT":return Object(s.a)(Object(s.a)({},e),{},{totalUsersCount:t.count});case"TOGGLE_IS_FETCHING":return Object(s.a)(Object(s.a)({},e),{},{isFetching:t.isFetching});case"TOGGLE_IS_FOLLOWING_PROGRESS":return Object(s.a)(Object(s.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(l.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter(function(e){return e!==t.userId})});case"SET_FILTER":return Object(s.a)(Object(s.a)({},e),{},{filter:t.payload});default:return e}},y=n(145),_={userId:null,email:null,login:null,isAuth:!1},P=function(e,t,n,r){return{type:"SN/auth/SET_USER_DATA",payload:{userId:e,email:t,login:n,isAuth:r}}},T=function(){return function(){var e=Object(i.a)(o.a.mark(function e(t){var n,r,a,c,u;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.b.me();case 2:(n=e.sent).resultCode===f.a.Success&&(r=n.data,a=r.id,c=r.email,u=r.login,t(P(a,c,u,!0)));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SN/auth/SET_USER_DATA":return Object(s.a)(Object(s.a)({},e),t.payload);default:return e}},x=n(257),C=n(253),k={initialized:!1},U=function(){return{type:"SOCIAL_NETWORK/APP/INITIALIZED_SUCCESS"}},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k;switch((arguments.length>1?arguments[1]:void 0).type){case"SOCIAL_NETWORK/APP/INITIALIZED_SUCCESS":return Object(s.a)(Object(s.a)({},e),{},{initialized:!0});default:return e}},N=Object(r.c)({profilePage:a.b,messagesPage:c.a,usersPage:w,auth:I,form:C.a,app:L}),R="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||r.d,F=Object(r.e)(N,R(Object(r.a)(x.a)));window.__store__=F;var A=F,z=n(0),G=n.n(z),D=n(39),M=n.n(D),H=(n(384),n(385),n(57)),W=n(34),q=n(25),B=n(96),K=n.n(B),V=n(142),J=n(262),Y=Object(J.a)(function(e){return e.usersPage.users},function(e){return e.filter(function(e){return!0})}),Z=function(e){return e.usersPage.pageSize},X=function(e){return e.usersPage.totalUsersCount},$=function(e){return e.usersPage.currentPage},Q=function(e){return e.usersPage.isFetching},ee=function(e){return e.usersPage.followingInProgress},te=function(e){return e.usersPage.filter},ne=G.a.memo(function(e){var t=e.onFilterChange,n=Object(q.d)(te);return G.a.createElement(V.c,{enableReinitialize:!0,initialValues:{term:n.term,friend:String(n.friend)},validate:function(e){return{}},onSubmit:function(e,n){var r=n.setSubmitting,a={term:e.term,friend:"null"===e.friend?null:"true"===e.friend};t(a),setTimeout(function(){r(!1)},400)}},function(e){var t=e.isSubmitting;return G.a.createElement(V.b,null,G.a.createElement(V.a,{type:"text",name:"term"}),G.a.createElement(V.a,{name:"friend",as:"select"},G.a.createElement("option",{value:"null"},"All"),G.a.createElement("option",{value:"true"},"Only followed"),G.a.createElement("option",{value:"false"},"Only unfollowed")),G.a.createElement("button",{type:"submit",disabled:t},"Find"))})}),re=n(275),ae=n(439),ce=n(432),ue=function(){var e=Object(q.d)(Y),t=Object(q.d)(X),n=Object(q.d)($),r=Object(q.d)(Z),a=Object(q.d)(te),c=Object(q.d)(ee),u=Object(q.c)(),l=Object(W.f)();Object(z.useEffect)(function(){var e=new URLSearchParams(l.location.search),t=n,c=a;switch(e.has("page")&&(t=Number(e.get("page"))),e.has("term")&&(c=Object(s.a)(Object(s.a)({},c),{},{term:e.get("term")})),e.get("friend")){case"null":c=Object(s.a)(Object(s.a)({},c),{},{friend:null});break;case"true":c=Object(s.a)(Object(s.a)({},c),{},{friend:!0});break;case"false":c=Object(s.a)(Object(s.a)({},c),{},{friend:!1})}u(S(t,r,c))},[]),Object(z.useEffect)(function(){var e={};a.term&&(e.term=a.term),null!==a.friend&&(e.friend=String(a.friend)),1!==n&&(e.page=String(n)),l.push({pathname:"/users",search:new URLSearchParams(e).toString()})},[a,n]);return G.a.createElement("div",null,G.a.createElement(ne,{onFilterChange:function(e){u(S(1,r,e))}}),G.a.createElement("div",{className:K.a.users},e.map(function(e){return G.a.createElement("div",{key:e.id,className:K.a.item},G.a.createElement("span",{className:K.a.area},G.a.createElement("div",null,G.a.createElement(H.c,{to:"/profile/"+e.id},e.photos.small?G.a.createElement("img",{src:e.photos.small,alt:"user_photo",className:K.a.photo}):G.a.createElement(re.a,{size:100,shape:"square",icon:G.a.createElement(ce.a,null)}))),G.a.createElement("span",{className:K.a.area+""+K.a.field},G.a.createElement("span",{className:K.a.area},G.a.createElement("div",null,e.name),G.a.createElement("div",null,e.status))),G.a.createElement("div",null," ",e.followed?G.a.createElement("button",{disabled:c.some(function(t){return t===e.id}),onClick:function(){var t;u((t=e.id,function(){var e=Object(i.a)(o.a.mark(function e(n){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(n,t,f.d.unfollow.bind(f.d),p);case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()))}},"Unfollow"):G.a.createElement("button",{disabled:c.some(function(t){return t===e.id}),onClick:function(){var t;u((t=e.id,function(){var e=Object(i.a)(o.a.mark(function e(n){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(n,t,f.d.follow.bind(f.d),d);case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()))}},"Follow")," ")))})),G.a.createElement(ae.a,{defaultCurrent:1,current:n,total:t,defaultPageSize:r,onChange:function(e){u(S(e,r,a))},showSizeChanger:!1}))},oe=n(156),ie=function(e){var t=e.pageTitle,n=Object(q.d)(Q);return G.a.createElement(G.a.Fragment,null,G.a.createElement("h2",null,t),n?G.a.createElement(oe.a,null):null,G.a.createElement(ue,null))},le=n(251),se=n(252),fe=n(157),me=n(199),de=n(136),pe=n.n(de),Ee=function(e){return e.auth.isAuth},ge=function(e){return e.auth.login},be=Object(se.a)({form:"login"})(function(e){var t=e.handleSubmit,n=e.error;return G.a.createElement("form",{onSubmit:t},G.a.createElement("div",null,G.a.createElement(le.a,{placeholder:"E-mail",component:fe.a,type:"email",name:"email",validate:[me.b]})),G.a.createElement("div",null,G.a.createElement(le.a,{placeholder:"Password",component:fe.a,type:"password",name:"password",validate:[me.b]})),G.a.createElement("div",null,G.a.createElement(le.a,{type:"checkbox",component:fe.a,name:"rememberMe"})," Remember me"),n&&G.a.createElement("div",{className:pe.a.formSummeryError},n),G.a.createElement("div",null,G.a.createElement("button",null,"Login")))}),he=function(){var e=Object(q.d)(Ee),t=Object(q.c)();return e?G.a.createElement(W.a,{to:"/profile"}):G.a.createElement("div",null,G.a.createElement("h1",null,"Login"),G.a.createElement(be,{onSubmit:function(e){var n,r,a;t((n=e.email,r=e.password,a=e.rememberMe,function(){var e=Object(i.a)(o.a.mark(function e(t){var c,u;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.b.login(n,r,a);case 2:(c=e.sent).resultCode===f.a.Success?t(T()):(u=c.messages.length>0?c.messages[0]:"Something is wrong!",t(Object(y.a)("login",{_error:u})));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()))}}))},Oe=(n(427),n(177)),ve=n(438),Se=n(441),je=n(270),we=n.n(je),ye=n(440),_e=n(204),Pe=(n(428),n(212)),Te=function(){var e=ye.a.Text,t=Object(q.d)(Ee),n=Object(q.d)(ge),r=Object(q.c)();return G.a.createElement("header",{className:"header"},G.a.createElement("div",{className:"loginBlock"},t?G.a.createElement(G.a.Fragment,null,G.a.createElement(H.b,{to:"/profile",className:"avatarBlock"},G.a.createElement(Pe.a,{small:!0}),G.a.createElement(e,{strong:!0,type:"warning"},n)),G.a.createElement(_e.a,{onClick:function(){r(function(){var e=Object(i.a)(o.a.mark(function e(t){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.b.logout();case 2:e.sent.resultCode===f.a.Success&&t(P(null,null,null,!1));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())}},"Logout")):G.a.createElement(_e.a,null,G.a.createElement(H.b,{to:"/login"},"Login"))))};function Ie(e){return function(t){return G.a.createElement(G.a.Suspense,{fallback:G.a.createElement("div",null,"loading...")},G.a.createElement(e,t))}}var xe=Oe.a.SubMenu,Ce=ve.a.Header,ke=ve.a.Content,Ue=ve.a.Footer,Le=ve.a.Sider,Ne=G.a.lazy(function(){return n.e(4).then(n.bind(null,451))}),Re=G.a.lazy(function(){return n.e(3).then(n.bind(null,449))}),Fe=G.a.lazy(function(){return Promise.all([n.e(5),n.e(6)]).then(n.bind(null,452))}),Ae=Ie(Ne),ze=Ie(Re),Ge=Ie(Fe),De=Object(q.b)(function(e){return{initialized:e.app.initialized}},{initializeApp:function(){return function(e){var t=e(T());Promise.all([t]).then(function(){e(U())})}}})(function(e){return Object(z.useEffect)(function(){e.initializeApp()}),e.initialized?G.a.createElement(H.a,null,G.a.createElement(ve.a,null,G.a.createElement(Ce,{className:"header"},G.a.createElement("div",{className:"logo"},G.a.createElement("img",{src:we.a,alt:"logo"})),G.a.createElement(Te,null)),G.a.createElement(ke,{style:{padding:"0 50px"}},G.a.createElement(Se.a,{style:{margin:"16px 0"}}),G.a.createElement(ve.a,{style:{padding:"24px 0",background:"#fff"}},G.a.createElement(Le,{width:200,style:{background:"#fff"}},G.a.createElement(Oe.a,{mode:"inline",style:{height:"100%"}},G.a.createElement(xe,{key:"my_profile",title:G.a.createElement("span",null,"My Profile")},G.a.createElement(Oe.a.Item,{key:"profile"},G.a.createElement(H.b,{to:"/profile"},"Profile")),G.a.createElement(Oe.a.Item,{key:"dialogs"},G.a.createElement(H.b,{to:"/dialogs"},"Massages"))),G.a.createElement(Oe.a.Item,{key:"users"},G.a.createElement(H.b,{to:"/users"},"Users")),G.a.createElement(Oe.a.Item,{key:"chat"},G.a.createElement(H.b,{to:"/chat"},"Chat")))),G.a.createElement(ke,{style:{padding:"0 24px",minHeight:280}},G.a.createElement(W.b,{path:"/profile/:userId?",render:function(){return G.a.createElement(ze,null)}}),G.a.createElement(W.b,{path:"/dialogs",render:function(){return G.a.createElement(Ae,null)}}),G.a.createElement(W.b,{path:"/users",render:function(){return G.a.createElement(ie,{pageTitle:"Users page"})}}),G.a.createElement(W.b,{path:"/login",render:function(){return G.a.createElement(he,null)}}),G.a.createElement(W.b,{path:"/chat",render:function(){return G.a.createElement(Ge,null)}})))),G.a.createElement(Ue,{style:{textAlign:"center"}},"\xa92023 Created by Eugenia Popova"))):G.a.createElement(oe.a,null)});M.a.render(G.a.createElement(q.a,{store:A},G.a.createElement(De,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()}).catch(function(e){console.error(e.message)})},96:function(e,t,n){e.exports={photo:"Users_photo__2hOPg",area:"Users_area__3s_qe",selectedPage:"Users_selectedPage__J63sh",pageButton:"Users_pageButton__1ZjBo",users:"Users_users__2Iv27"}}},[[302,1,2]]]);
//# sourceMappingURL=main.98e4d2f4.chunk.js.map